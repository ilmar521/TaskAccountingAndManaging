<!DOCTYPE html>
<html>
<head>
  <title>Task Report</title>

  
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css" />
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
   
   <style>
    .project-row {
      font-weight: bold;
      background-color: #f5f5f5;
    }
    .task-row td:first-child {
      padding-left: 20px;
    }
    .toggle-icon {
      cursor: pointer;
      user-select: none;
    }
    .hidden {
      display: none;
    }
 </style>   

</head>
<body>
  <div class="table-responsive">
      <table class="table" class="table table-striped table-bordered">
        <colgroup>
          <col style="width: 55%;">
          <col style="width: 15%;">
          <col style="width: 15%;">
          <col style="width: 15%;">
        </colgroup>
        <thead>
          <tr>
            <th>Проект<br>Задача</th>
            <th>Часов</th>
            <th>Ставка Часа</th>
            <th>Итого</th>
          </tr>
        </thead>
        
      <tbody>
        <tr class="project-row collapsed">
          <td>
            <span class="toggle-icon">+</span> Проект 1
          </td>
          <td>10</td>
          <td>10</td>
          <td>100</td>
        </tr>
        <tr class="task-row hidden">
          <td>Задача 1</td>
          <td>5</td>
          <td>10</td>
          <td>50</td>
        </tr>
        <tr class="task-row hidden">
          <td>Задача 2</td>
          <td>5</td>
          <td>10</td>
          <td>50</td>
        </tr>
        <tr class="project-row collapsed">
          <td>
            <span class="toggle-icon">+</span> Проект 2
          </td>
          <td>8</td>
          <td>12</td>
          <td>96</td>
        </tr>
        <tr class="task-row hidden">
          <td>Задача 3 ytyutyutyutyutyutyutyutyutyutyu</td>
          <td>4</td>
          <td>12</td>
          <td>48</td>
        </tr>
        <tr class="task-row hidden">
          <td>Задача 4</td>
          <td>4</td>
          <td>12</td>
          <td>48</td>
        </tr>
      </tbody>
    </table>
  </div>

  <script>
    // JavaScript код для сворачивания/разворачивания проектов
    document.addEventListener('DOMContentLoaded', function() {
      var toggleIcons = document.getElementsByClassName('toggle-icon');
      for (var i = 0; i < toggleIcons.length; i++) {
        toggleIcons[i].addEventListener('click', toggleProject);
      }
    });
  
    function toggleProject() {
      var projectRow = this.parentNode.parentNode;
      var nextRow = projectRow.nextElementSibling;
  
      while (nextRow && !nextRow.classList.contains('project-row')) {
        if (nextRow.classList.contains('task-row')) {
          if (nextRow.classList.contains('hidden')) {
            nextRow.classList.remove('hidden');
          } else {
            nextRow.classList.add('hidden');
          }
        }
        nextRow = nextRow.nextElementSibling;
      }
  
      if (projectRow.classList.contains('collapsed')) {
        projectRow.classList.remove('collapsed');
        this.textContent = '-';
        } else {
        projectRow.classList.add('collapsed');
        this.textContent = '+';
        }
    }
  </script>
  
  
  
  
  


</body>
</html>